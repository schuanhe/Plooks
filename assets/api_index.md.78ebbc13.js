import{_ as t,o as d,c as e,a as r}from"./app.a12f6983.js";const a="/Plooks/assets/token.c4fe862c.png",I=JSON.parse('{"title":"开始","description":"","frontmatter":{},"headers":[{"level":2,"title":"双token登录方案","slug":"双token登录方案","link":"#双token登录方案","children":[]},{"level":2,"title":"稿件状态码","slug":"稿件状态码","link":"#稿件状态码","children":[]},{"level":2,"title":"用户身份","slug":"用户身份","link":"#用户身份","children":[]}],"relativePath":"api/index.md"}'),n={name:"api/index.md"},o=r('<h1 id="开始" tabindex="-1">开始 <a class="header-anchor" href="#开始" aria-hidden="true">#</a></h1><h2 id="双token登录方案" tabindex="-1">双token登录方案 <a class="header-anchor" href="#双token登录方案" aria-hidden="true">#</a></h2><p>本项目登录采用双token登录</p><p>access_token 在登陆后会存在redis中<code>user:token:token 为key</code>有效时间为12小时</p><p>refresh_token 则不会存在redis中, 会存在cookie中, 有效时间为一周 <img src="'+a+'" alt="双token登录方案"></p><h2 id="稿件状态码" tabindex="-1">稿件状态码 <a class="header-anchor" href="#稿件状态码" aria-hidden="true">#</a></h2><table><thead><tr><th>状态</th><th>状态码</th><th>含义</th></tr></thead><tbody><tr><td>AUDIT_APPROVED</td><td>0</td><td>审核通过</td></tr><tr><td>CREATED_VIDEO</td><td>100</td><td>成功创建视频</td></tr><tr><td>VIDEO_PROCESSING</td><td>200</td><td>视频转码中</td></tr><tr><td>SUBMIT_REVIEW</td><td>300</td><td>用户提交审核</td></tr><tr><td>WAITING_REVIEW</td><td>500</td><td>等待审核</td></tr><tr><td>WRONG_VIDEO_INFO</td><td>2100</td><td>视频信息存在问题</td></tr><tr><td>WRONG_VIDEO_CONTENT</td><td>2200</td><td>视频内容存在问题</td></tr><tr><td>PROCESSING_FAIL</td><td>2300</td><td>视频处理失败</td></tr></tbody></table><h2 id="用户身份" tabindex="-1">用户身份 <a class="header-anchor" href="#用户身份" aria-hidden="true">#</a></h2><table><thead><tr><th>角色</th><th>角色编号</th><th>含义</th></tr></thead><tbody><tr><td>root</td><td>3</td><td>超级管理</td></tr><tr><td>admin</td><td>2</td><td>管理</td></tr><tr><td>auditor</td><td>1</td><td>审核</td></tr><tr><td>user</td><td>0</td><td>普通用户</td></tr></tbody></table><p>角色权限向下兼容</p>',10),h=[o];function i(s,_,c,l,p,k){return d(),e("div",null,h)}const u=t(n,[["render",i]]);export{I as __pageData,u as default};
